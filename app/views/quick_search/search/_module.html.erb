<div id="<%= service_name.dasherize %>" class="module-contents" >
    <% if searcher.is_a? StandardError %>
        <%= render partial: 'module_heading', locals: { service_name: service_name } %>
        <% if params[:page].blank? %>
            <% page = 1 %>
        <% else %>
            <% page = params[:page] %>
        <% end %>
        <%= render partial: '/quick_search/search/search_error', locals: { service_name: service_name, page: page, template: 'without_paging' } %>
    <% elsif searcher.results.blank? %>
        <%= render partial: 'module_heading', locals: { service_name: service_name } %>
        <%= render partial: '/quick_search/search/no_results', locals: {module_display_name: module_display_name, service_name: service_name} %>
    <% else %>
        <% total = searcher.total.present? ? number_with_delimiter(searcher.total) : nil %>
        <% unless defined? searcher.loaded_link_mobile %>
          <%= render partial: 'module_heading', locals: { service_name: service_name } %>
        <% else %>
          <%= render partial: 'module_heading', locals: { service_name: service_name } %>
        <% end %>

        <%= render partial: '/quick_search/search/highlighted_facet', locals: { searcher: searcher } %>

        <ol>
            <%= render partial: '/quick_search/search/result', collection: searcher.results %>
        </ol>

        <% if searcher.respond_to?(:database_results) %>
          <% dbresults = searcher.database_results %>
          <% if dbresults[:hits].positive? %>
            <h6 class="result-database-hits">
              Your search also found <a href="<%= dbresults[:link] -%>"><%= number_with_delimiter(dbresults[:hits]) -%> topic-specific databases</a>.
            </h6>
          <% end %>
        <% end %>

        <p class="see-all-results">
            <% unless defined? searcher.loaded_link_mobile %>
                <%= render partial: '/quick_search/search/see_all', locals: {service_name: service_name, total: total, module_link: searcher.loaded_link} %>
            <% else %>
                <span class="show-for-medium-up">
                <%= render partial: '/quick_search/search/see_all', locals: {service_name: service_name, total: total, module_link: searcher.loaded_link} %>
                </span>
                <span class="show-for-small-only">
                <%= render partial: '/quick_search/search/see_all', locals: {service_name: service_name, total: total, module_link: searcher.loaded_link_mobile} %>
                </span>
            <% end %>
        </p>
        <% if searcher.total.present? %>
          <script type='text/javascript'>
            var searcherLink = $('.searcher-anchors a[href="#<%= service_name %>"]');
            searcherLink.append('(<%= number_with_delimiter(total) %>)')
          </script>
        <% end %>
    <% end %>
</div>
